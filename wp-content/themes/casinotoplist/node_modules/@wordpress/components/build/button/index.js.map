{"version":3,"sources":["@wordpress/components/src/button/index.js"],"names":["disabledEventsOnDisabledButton","Button","props","ref","href","target","isPrimary","isLarge","isSmall","isTertiary","isPressed","isBusy","isDefault","isSecondary","isLink","isDestructive","className","disabled","icon","iconSize","showTooltip","tooltipPosition","shortcut","label","children","isFocusable","__experimentalIsFocusable","additionalProps","alternative","classes","trulyDisabled","Tag","undefined","tagProps","type","disabledEvent","event","stopPropagation","preventDefault","shouldShowTooltip","length","element"],"mappings":"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","sourcesContent":["/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { isArray } from 'lodash';\n\n/**\n * WordPress dependencies\n */\nimport deprecated from '@wordpress/deprecated';\nimport { forwardRef } from '@wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\n\nconst disabledEventsOnDisabledButton = [ 'onMouseDown', 'onClick' ];\n\nexport function Button( props, ref ) {\n\tconst {\n\t\thref,\n\t\ttarget,\n\t\tisPrimary,\n\t\tisLarge,\n\t\tisSmall,\n\t\tisTertiary,\n\t\tisPressed,\n\t\tisBusy,\n\t\tisDefault,\n\t\tisSecondary,\n\t\tisLink,\n\t\tisDestructive,\n\t\tclassName,\n\t\tdisabled,\n\t\ticon,\n\t\ticonSize,\n\t\tshowTooltip,\n\t\ttooltipPosition,\n\t\tshortcut,\n\t\tlabel,\n\t\tchildren,\n\t\t__experimentalIsFocusable: isFocusable,\n\t\t...additionalProps\n\t} = props;\n\n\tif ( isDefault ) {\n\t\tdeprecated( 'Button isDefault prop', {\n\t\t\talternative: 'isSecondary',\n\t\t} );\n\t}\n\n\tconst classes = classnames( 'components-button', className, {\n\t\t'is-secondary': isDefault || isSecondary,\n\t\t'is-primary': isPrimary,\n\t\t'is-large': isLarge,\n\t\t'is-small': isSmall,\n\t\t'is-tertiary': isTertiary,\n\t\t'is-pressed': isPressed,\n\t\t'is-busy': isBusy,\n\t\t'is-link': isLink,\n\t\t'is-destructive': isDestructive,\n\t\t'has-text': !! icon && !! children,\n\t\t'has-icon': !! icon,\n\t} );\n\n\tconst trulyDisabled = disabled && ! isFocusable;\n\tconst Tag = href !== undefined && ! trulyDisabled ? 'a' : 'button';\n\tconst tagProps =\n\t\tTag === 'a'\n\t\t\t? { href, target }\n\t\t\t: {\n\t\t\t\t\ttype: 'button',\n\t\t\t\t\tdisabled: trulyDisabled,\n\t\t\t\t\t'aria-pressed': isPressed,\n\t\t\t  };\n\n\tif ( disabled && isFocusable ) {\n\t\t// In this case, the button will be disabled, but still focusable and\n\t\t// perceivable by screen reader users.\n\t\ttagProps[ 'aria-disabled' ] = true;\n\n\t\tfor ( const disabledEvent of disabledEventsOnDisabledButton ) {\n\t\t\tadditionalProps[ disabledEvent ] = ( event ) => {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t};\n\t\t}\n\t}\n\n\t// Should show the tooltip if...\n\tconst shouldShowTooltip =\n\t\t! trulyDisabled &&\n\t\t// an explicit tooltip is passed or...\n\t\t( ( showTooltip && label ) ||\n\t\t\t// there's a shortcut or...\n\t\t\tshortcut ||\n\t\t\t// there's a label and...\n\t\t\t( !! label &&\n\t\t\t\t// the children are empty and...\n\t\t\t\t( ! children ||\n\t\t\t\t\t( isArray( children ) && ! children.length ) ) &&\n\t\t\t\t// the tooltip is not explicitly disabled.\n\t\t\t\tfalse !== showTooltip ) );\n\n\tconst element = (\n\t\t<Tag\n\t\t\t{ ...tagProps }\n\t\t\t{ ...additionalProps }\n\t\t\tclassName={ classes }\n\t\t\taria-label={ additionalProps[ 'aria-label' ] || label }\n\t\t\tref={ ref }\n\t\t>\n\t\t\t{ icon && <Icon icon={ icon } size={ iconSize } /> }\n\t\t\t{ children }\n\t\t</Tag>\n\t);\n\n\tif ( ! shouldShowTooltip ) {\n\t\treturn element;\n\t}\n\n\treturn (\n\t\t<Tooltip\n\t\t\ttext={ label }\n\t\t\tshortcut={ shortcut }\n\t\t\tposition={ tooltipPosition }\n\t\t>\n\t\t\t{ element }\n\t\t</Tooltip>\n\t);\n}\n\nexport default forwardRef( Button );\n"]}