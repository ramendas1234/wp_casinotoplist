{"version":3,"sources":["@wordpress/components/src/font-size-picker/index.js"],"names":["DEFAULT_FONT_SIZE","CUSTOM_FONT_SIZE","getSelectValueFromFontSize","fontSizes","value","fontSizeValue","find","font","size","Number","slug","getSelectOptions","optionsArray","disableCustomFontSizes","name","map","option","key","style","fontSize","FontSizePicker","fallbackFontSize","onChange","withSlider","instanceId","currentSelectValue","setCurrentSelectValue","length","setFontSize","fontSizeKey","undefined","onChangeValue","event","newValue","target","onSelectChangeValue","selectedItem","selectedKey","selectedValue","onSliderChangeValue","sliderValue","sliderKey","reset","options","rangeControlNumberId"],"mappings":"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","sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useState } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport Button from '../button';\nimport RangeControl from '../range-control';\nimport CustomSelectControl from '../custom-select-control';\n\nconst DEFAULT_FONT_SIZE = 'default';\nconst CUSTOM_FONT_SIZE = 'custom';\n\nfunction getSelectValueFromFontSize( fontSizes, value ) {\n\tif ( value ) {\n\t\tconst fontSizeValue = fontSizes.find(\n\t\t\t( font ) => font.size === Number( value )\n\t\t);\n\t\treturn fontSizeValue ? fontSizeValue.slug : CUSTOM_FONT_SIZE;\n\t}\n\treturn DEFAULT_FONT_SIZE;\n}\n\nfunction getSelectOptions( optionsArray, disableCustomFontSizes ) {\n\toptionsArray = [\n\t\t{ slug: DEFAULT_FONT_SIZE, name: __( 'Default' ) },\n\t\t...optionsArray,\n\t\t...( disableCustomFontSizes\n\t\t\t? []\n\t\t\t: [ { slug: CUSTOM_FONT_SIZE, name: __( 'Custom' ) } ] ),\n\t];\n\treturn optionsArray.map( ( option ) => ( {\n\t\tkey: option.slug,\n\t\tname: option.name,\n\t\tstyle: { fontSize: option.size },\n\t} ) );\n}\n\nexport default function FontSizePicker( {\n\tfallbackFontSize,\n\tfontSizes = [],\n\tdisableCustomFontSizes = false,\n\tonChange,\n\tvalue,\n\twithSlider = false,\n} ) {\n\tconst instanceId = useInstanceId( FontSizePicker );\n\tconst [ currentSelectValue, setCurrentSelectValue ] = useState(\n\t\tgetSelectValueFromFontSize( fontSizes, value )\n\t);\n\n\tif ( disableCustomFontSizes && ! fontSizes.length ) {\n\t\treturn null;\n\t}\n\n\tconst setFontSize = ( fontSizeKey, fontSizeValue ) => {\n\t\tsetCurrentSelectValue( fontSizeKey );\n\n\t\tif ( fontSizeKey === DEFAULT_FONT_SIZE ) {\n\t\t\tonChange( undefined );\n\t\t\treturn;\n\t\t}\n\n\t\tif ( ! fontSizeValue ) {\n\t\t\treturn;\n\t\t}\n\n\t\tonChange( Number( fontSizeValue ) );\n\t};\n\n\tconst onChangeValue = ( event ) => {\n\t\tconst newValue = event.target.value;\n\t\tconst key = getSelectValueFromFontSize( fontSizes, newValue );\n\t\tsetFontSize( key, newValue );\n\t};\n\n\tconst onSelectChangeValue = ( { selectedItem } ) => {\n\t\tconst selectedKey = selectedItem.key;\n\t\tconst selectedValue = selectedItem.style && selectedItem.style.fontSize;\n\t\tsetFontSize( selectedKey, selectedValue );\n\t};\n\n\tconst onSliderChangeValue = ( sliderValue ) => {\n\t\tconst sliderKey = getSelectValueFromFontSize( fontSizes, sliderValue );\n\t\tsetFontSize( sliderKey, sliderValue );\n\t};\n\n\tconst reset = () => {\n\t\tsetFontSize( DEFAULT_FONT_SIZE );\n\t};\n\n\tconst options = getSelectOptions( fontSizes, disableCustomFontSizes );\n\n\tconst rangeControlNumberId = `components-range-control__number#${ instanceId }`;\n\treturn (\n\t\t<fieldset className=\"components-font-size-picker\">\n\t\t\t<legend className=\"screen-reader-text\">\n\t\t\t\t{ __( 'Font size' ) }\n\t\t\t</legend>\n\t\t\t<div className=\"components-font-size-picker__controls\">\n\t\t\t\t{ fontSizes.length > 0 && (\n\t\t\t\t\t<CustomSelectControl\n\t\t\t\t\t\tclassName={ 'components-font-size-picker__select' }\n\t\t\t\t\t\tlabel={ __( 'Preset size' ) }\n\t\t\t\t\t\toptions={ options }\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\toptions.find(\n\t\t\t\t\t\t\t\t( option ) => option.key === currentSelectValue\n\t\t\t\t\t\t\t) || options[ 0 ]\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonChange={ onSelectChangeValue }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ ! withSlider && ! disableCustomFontSizes && (\n\t\t\t\t\t<div className=\"components-range-control__number-container\">\n\t\t\t\t\t\t<label htmlFor={ rangeControlNumberId }>\n\t\t\t\t\t\t\t{ __( 'Custom' ) }\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tid={ rangeControlNumberId }\n\t\t\t\t\t\t\tclassName=\"components-range-control__number\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\tonChange={ onChangeValue }\n\t\t\t\t\t\t\taria-label={ __( 'Custom' ) }\n\t\t\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"components-color-palette__clear\"\n\t\t\t\t\tdisabled={ value === undefined }\n\t\t\t\t\tonClick={ reset }\n\t\t\t\t\tisSmall\n\t\t\t\t\tisSecondary\n\t\t\t\t>\n\t\t\t\t\t{ __( 'Reset' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t\t{ withSlider && (\n\t\t\t\t<RangeControl\n\t\t\t\t\tclassName=\"components-font-size-picker__custom-input\"\n\t\t\t\t\tlabel={ __( 'Custom Size' ) }\n\t\t\t\t\tvalue={ value || '' }\n\t\t\t\t\tinitialPosition={ fallbackFontSize }\n\t\t\t\t\tonChange={ onSliderChangeValue }\n\t\t\t\t\tmin={ 12 }\n\t\t\t\t\tmax={ 100 }\n\t\t\t\t\tbeforeIcon=\"editor-textcolor\"\n\t\t\t\t\tafterIcon=\"editor-textcolor\"\n\t\t\t\t/>\n\t\t\t) }\n\t\t</fieldset>\n\t);\n}\n"]}